{
    "sourceFile": "src/main/java/chihalu/totalitems/config/TotalItemsServerConfig.java",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 2,
            "patches": [
                {
                    "date": 1760867550168,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1760868025615,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,12 +28,9 @@\n         public boolean enabled = true;\r\n         public List<String> trackedItems = new ArrayList<>();\r\n         \r\n         public ConfigData() {\r\n-            // デフォルト：ダイヤモンド、エメラルド、ネザライトを追跡\r\n-            trackedItems.add(\"minecraft:diamond\");\r\n-            trackedItems.add(\"minecraft:emerald\");\r\n-            trackedItems.add(\"minecraft:netherite_ingot\");\r\n+            // デフォルト：追跡対象なし\r\n         }\r\n     }\r\n     \r\n     /**\r\n"
                },
                {
                    "date": 1760871509991,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,9 +28,9 @@\n         public boolean enabled = true;\r\n         public List<String> trackedItems = new ArrayList<>();\r\n         \r\n         public ConfigData() {\r\n-            // デフォルト：追跡対象なし\r\n+            // デフォルト：カウント対象なし\r\n         }\r\n     }\r\n     \r\n     /**\r\n"
                }
            ],
            "date": 1760867550168,
            "name": "Commit-0",
            "content": "package chihalu.totalitems.config;\r\n\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.GsonBuilder;\r\n\r\nimport java.io.FileReader;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class TotalItemsServerConfig {\r\n    \r\n    private static final Path CONFIG_DIR = Paths.get(\"config\");\r\n    private static final Path CONFIG_FILE = CONFIG_DIR.resolve(\"totalitems.json\");\r\n    private static final Gson GSON = new GsonBuilder().setPrettyPrinting().create();\r\n    \r\n    private static ConfigData configData = new ConfigData();\r\n    \r\n    static {\r\n        loadConfig();\r\n    }\r\n    \r\n    public static class ConfigData {\r\n        public boolean enabled = true;\r\n        public List<String> trackedItems = new ArrayList<>();\r\n        \r\n        public ConfigData() {\r\n            // デフォルト：ダイヤモンド、エメラルド、ネザライトを追跡\r\n            trackedItems.add(\"minecraft:diamond\");\r\n            trackedItems.add(\"minecraft:emerald\");\r\n            trackedItems.add(\"minecraft:netherite_ingot\");\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * 設定を読み込む\r\n     */\r\n    public static void loadConfig() {\r\n        try {\r\n            if (Files.exists(CONFIG_FILE)) {\r\n                try (FileReader reader = new FileReader(CONFIG_FILE.toFile())) {\r\n                    configData = GSON.fromJson(reader, ConfigData.class);\r\n                    if (configData == null) {\r\n                        configData = new ConfigData();\r\n                    }\r\n                }\r\n            } else {\r\n                saveConfig();\r\n            }\r\n        } catch (IOException e) {\r\n            System.err.println(\"Failed to load TotalItems config: \" + e.getMessage());\r\n            configData = new ConfigData();\r\n        }\r\n    }\r\n    \r\n    /**\r\n     * 設定を保存\r\n     */\r\n    public static void saveConfig() {\r\n        try {\r\n            if (!Files.exists(CONFIG_DIR)) {\r\n                Files.createDirectories(CONFIG_DIR);\r\n            }\r\n            try (FileWriter writer = new FileWriter(CONFIG_FILE.toFile())) {\r\n                GSON.toJson(configData, writer);\r\n            }\r\n        } catch (IOException e) {\r\n            System.err.println(\"Failed to save TotalItems config: \" + e.getMessage());\r\n        }\r\n    }\r\n    \r\n    // 設定のゲッター/セッター\r\n    public static boolean isEnabled() {\r\n        return configData.enabled;\r\n    }\r\n    \r\n    public static void setEnabled(boolean value) {\r\n        configData.enabled = value;\r\n        saveConfig();\r\n    }\r\n    \r\n    public static List<String> getTrackedItems() {\r\n        return configData.trackedItems;\r\n    }\r\n    \r\n    public static void setTrackedItems(List<String> items) {\r\n        configData.trackedItems = items;\r\n        saveConfig();\r\n    }\r\n    \r\n    public static void addTrackedItem(String itemId) {\r\n        if (!configData.trackedItems.contains(itemId)) {\r\n            configData.trackedItems.add(itemId);\r\n            saveConfig();\r\n        }\r\n    }\r\n    \r\n    public static void removeTrackedItem(String itemId) {\r\n        if (configData.trackedItems.remove(itemId)) {\r\n            saveConfig();\r\n        }\r\n    }\r\n}\r\n"
        }
    ]
}